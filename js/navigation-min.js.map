{"version":3,"sources":["navigation.js"],"names":["openNav","body","classList","add","openBtn","setAttribute","menuWrap","closeNav","remove","createOverlay","overlay","insertAdjacentElement","addEventListener","destroyOverlay","document","querySelector","getElementById","createElement","menuContainer","menuParentItems","querySelectorAll","insertAdjacentHTML","closeBtn","forEach","parentMenuItem","parentItemLink","contains","event","subMenuWrap","preventDefault","toggle","window","screen","width","height","Math","max","documentElement","clientHeight","innerHeight","style","subMenus","getElementsByTagName","i","len","length","parentNode"],"mappings":"cAMA,WA0CC,SAASA,IACRC,EAAKC,UAAUC,IAAI,gBACnBC,EAAQC,aAAa,gBAAiB,QACtCC,EAASD,aAAa,gBAAiB,QAIxC,SAASE,IACRN,EAAKC,UAAUM,OAAO,gBACtBJ,EAAQC,aAAa,gBAAiB,SACtCC,EAASD,aAAa,gBAAiB,SAIxC,SAASI,IACRC,EAAQR,UAAUC,IAAI,sBACtBG,EAASK,sBAAsB,WAAYD,GAC3CA,EAAQE,iBAAiB,SAAS,WACjCC,IACAN,OAIF,SAASM,IACRH,EAAQF,SAjET,IAAIP,EAAOa,SAASC,cAAc,QAC9BX,EAAUU,SAASE,eAAe,eAClCN,EAAUI,SAASG,cAAc,OACjCX,EAAWQ,SAASE,eAAe,qBACnCE,EAAgBZ,EAASS,cAAc,kCACvCI,EAAkBD,EAAcE,iBAAiB,uBACrDF,EAAcG,mBAAmB,YAAa,gCAC9C,IAAIC,EAAWR,SAASE,eAAe,cA6BvC,GA1BAZ,EAAQQ,iBAAiB,SAAS,WACjCH,IACAT,OAGDsB,EAASV,iBAAiB,SAAS,WAClCC,IACAN,OAIDY,EAAgBI,SAAS,SAAAC,GAEvB,IAAIC,EADAD,EAAetB,UAAUwB,SAAS,2BACjBF,EAAeT,cAAc,KACnCH,iBAAiB,SAAS,SAASe,GAEjD,IAAIC,EADJD,EAAME,iBACYL,EAAeT,cAAc,aACnCb,UAAU4B,OAAO,wBAK5BC,OAAOC,OAAOC,MAAQ,MACzBpB,IAGGkB,OAAOC,OAAOC,MAAQ,KAAM,CAC/B,IAAMC,EAASC,KAAKC,IAAItB,SAASuB,gBAAgBC,aAAcP,OAAOQ,aAAe,GACrFjC,EAASkC,MAAM,cAAgBN,EAAS,KAkCzC,IAHA,IAAIO,EAAWnC,EAASoC,qBAAqB,MAGpCC,EAAI,EAAGC,EAAMH,EAASI,OAAQF,EAAIC,EAAKD,IAC/CF,EAASE,GAAGG,WAAWzC,aAAa,gBAAiB,QA1EvD","sourcesContent":["/**\n * navigation.js\n *\n * Handles toggling the navigation menu for small screens and enables tab\n * support for dropdown menus.\n */\n(function () {\n\tvar body = document.querySelector('body');\n\tvar openBtn = document.getElementById('menu-toggle');\n\tvar overlay = document.createElement('div');\n\tvar menuWrap = document.getElementById('primary-menu-wrap');\n\tvar menuContainer = menuWrap.querySelector('#primary-menu > .content-width'); // Menu items container\n\tvar menuParentItems = menuContainer.querySelectorAll(\":scope > .menu-item\");\n\tmenuContainer.insertAdjacentHTML('beforeend', '<div id=\"menu-close\">â•³</div>'); // Insert Close btn\n\tvar closeBtn = document.getElementById('menu-close');\n\n\t// Open/close mobile menu\n\topenBtn.addEventListener('click', () => {\n\t\tcreateOverlay();\n\t\topenNav();\n\t});\n\t\n\tcloseBtn.addEventListener('click', () => {\n\t\tdestroyOverlay();\n\t\tcloseNav();\n\t});\n\t\n\t// Open sub-menu if .menu-item-has-children\n\tmenuParentItems.forEach( parentMenuItem => {\n\t\tif ( parentMenuItem.classList.contains('menu-item-has-children') ) {\n\t\t\tlet parentItemLink = parentMenuItem.querySelector('a');\n\t\t\tparentItemLink.addEventListener('click', function(event) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tlet subMenuWrap = parentMenuItem.querySelector('.sub-menu');\n\t\t\t\tsubMenuWrap.classList.toggle('active-submenu');\n\t\t\t});\n\t\t}\n\t});\n\t\n\tif (window.screen.width > 1024) {\n\t\tdestroyOverlay();\n\t}\n\n\tif (window.screen.width < 1024) {\n\t\tconst height = Math.max(document.documentElement.clientHeight, window.innerHeight || 0);\n\t\tmenuWrap.style['min-height'] = height + 'px';\n\t}\n\t\n\tfunction openNav() {\n\t\tbody.classList.add('menu--active');\n\t\topenBtn.setAttribute('aria-expanded', 'true');\n\t\tmenuWrap.setAttribute('aria-expanded', 'true');\n\t\treturn;\n\t}\n\t\n\tfunction closeNav() {\n\t\tbody.classList.remove('menu--active');\n\t\topenBtn.setAttribute('aria-expanded', 'false');\n\t\tmenuWrap.setAttribute('aria-expanded', 'false');\n\t\treturn;\n\t}\n\t\n\tfunction createOverlay() {\n\t\toverlay.classList.add('mobile-nav-overlay');\n\t\tmenuWrap.insertAdjacentElement('afterend', overlay);\n\t\toverlay.addEventListener('click', () => {\n\t\t\tdestroyOverlay();\n\t\t\tcloseNav();\n\t\t});\n\t}\n\t\n\tfunction destroyOverlay() {\n\t\toverlay.remove();\n\t}\n\n\t// Get all the link elements within the menu.\n\tvar subMenus = menuWrap.getElementsByTagName('ul')\n\n\t// Set menu items with submenus to aria-haspopup=\"true\".\n\tfor (var i = 0, len = subMenus.length; i < len; i++) {\n\t\tsubMenus[i].parentNode.setAttribute('aria-haspopup', 'true')\n\t}\n\t\n})();"]}